# Copyright 2022 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
#     Unless required by applicable law or agreed to in writing, software
#     distributed under the License is distributed on an "AS IS" BASIS,
#     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#     See the License for the specific language governing permissions and
#     limitations under the License.

âŸ¨TestSuiteâŸ© â† â€¢Import "../test.bqn"

ts â† TestSuite "Pervasive functions"


# Common math functions are termed "pervasive", meaning that they apply to the
# smallest elements of an array.

{ ğ•¤ â‹„ 1â€¿2â€¿3 â‰¡ 2 Ã— 1â€¿2â€¿3 } ts._Test "Multiplication is pervasive"
{ ğ•¤ â‹„ 1â€¿2â€¿3 â‰¡ 2 + 3â€¿2â€¿3 } ts._Test "Addition is pervasive"
{ ğ•¤ â‹„ 1â€¿2â€¿3 â‰¡ 2 - Â¯1â€¿0â€¿1 } ts._Test "Subtraction is pervasive"
{ ğ•¤ â‹„ 2â€¿4â€¿6 â‰¡ 2â€¿4â€¿6 Ã· 2 } ts._Test "Division is pervasive"

{ ğ•¤ â‹„ âŸ¨Â¯1, âˆâŸ© â‰¡ - 1â€¿2 } ts._Test "Negate is pervasive"
{ ğ•¤ â‹„ âˆâ€¿âˆâ€¿1 â‰¡ Ã— Â¯325â€¿0â€¿848 } ts._Test "Sign is pervasive"
{ ğ•¤ â‹„ âŸ¨âˆâŸ© â‰¡ â‹† âŸ¨0âŸ© } ts._Test "Exponential is pervasive"
{ ğ•¤ â‹„ 1â€¿âˆâ€¿âˆ â‰¡ Ã· 1â€¿2â€¿4 } ts._Test "Reciprocal is pervasive"
{ ğ•¤ â‹„ 1â€¿âˆ â‰¡ âˆš 1â€¿4 } ts._Test "Square root is pervasive"


# With lists of the same size, math functions apply between items with the same
# index.  That is,
#
#     âŸ¨ ğ•¨1 , ğ•¨2 , ... , ğ•¨n âŸ© ğ•— âŸ¨ ğ•©1 , ğ•©2 , ... , ğ•©n âŸ© â‰¡
#         âŸ¨ ğ•¨1 ğ•— ğ•©1 , ğ•¨2 ğ•— ğ•©2 , ... , ğ•¨n ğ•— ğ•©n âŸ©

{ ğ•¤ â‹„ âˆ â‰¡ 1â€¿2â€¿3 + 3â€¿2â€¿1 } ts._Test "Adding lists of numbers"
{ ğ•¤ â‹„ âˆ â‰¡ 2â€¿2 Ã— 2â€¿2 } ts._Test "Multiplying lists of numbers"
{ ğ•¤ â‹„ âˆ â‰¡ 1â€¿2 - 2â€¿3 } ts._Test "Subtracting lists of numbers"
{ ğ•¤ â‹„ âˆ â‰¡ 4â€¿2 Ã· 2â€¿2 } ts._Test "Dividing lists of numbers."
{ ğ•¤ â‹„ (1 = âˆ)â€¿(2 = âˆ) â‰¡ 1â€¿2 = 1â€¿2 } ts._Test "Equality in lists of numbers"


ts.Report @
